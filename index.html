<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jesson Setiawan | Digital Architect</title>

    <!-- GSAP Core & ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
        /* --- CSS VARIABLES & RESET --- */
        :root {
            --bg-dark: #040314;
            --bg-light: #fcf8f2;
            --text-main: #fcf8f2;
            --text-inv: #040314;
            --font-main: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            --font-mono: 'Courier New', Courier, monospace;
            --spacing-lg: 10vw;
            --spacing-md: 5vh;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: var(--font-main);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        ul {
            list-style: none;
        }

        /* --- UTILITIES --- */
        .container {
            width: 90%;
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--spacing-md) 0;
        }

        .section-header {
            font-size: clamp(2rem, 5vw, 4rem);
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            border-bottom: 1px solid rgba(252, 248, 242, 0.2);
            padding-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: end;
        }

        .section-sub {
            font-size: 1rem;
            font-weight: 400;
            opacity: 0.6;
            font-family: var(--font-mono);
            display: none;
        }

        @media(min-width: 768px) {
            .section-sub {
                display: block;
            }
        }

        /* --- HERO SECTION (INTERACTIVE) --- */
        .hero {
            height: 100vh;
            width: 100vw;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            cursor: none;
        }

        @media (max-width: 768px) {
            .hero {
                cursor: default;
            }
        }

        .hero-content {
            z-index: 10;
            text-align: center;
            pointer-events: none;
            mix-blend-mode: difference;
        }

        .hero h1 {
            font-size: clamp(3rem, 11vw, 12rem);
            line-height: 0.9;
            text-transform: uppercase;
            letter-spacing: -0.05em;
        }

        .hero h2 {
            font-size: clamp(1rem, 2vw, 1.5rem);
            font-weight: 400;
            margin-top: 20px;
            opacity: 0.8;
            font-family: var(--font-mono);
        }

        /* The Custom Cursor/Follower (Desktop Only) */
        .cursor-dot {
            width: 20px;
            height: 20px;
            background: var(--bg-light);
            border-radius: 50%;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 100;
            pointer-events: none;
            mix-blend-mode: exclusion;
            display: none;
        }

        @media (min-width: 769px) {
            .cursor-dot {
                display: block;
            }
        }

        /* The Trail Images (Desktop) */
        .trail-img {
            position: absolute;
            width: 200px;
            height: auto;
            pointer-events: none;
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.5);
            z-index: 1;
            filter: grayscale(100%);
        }

        /* Rain Images (Mobile) */
        .rain-img {
            position: absolute;
            width: 120px;
            opacity: 0.4;
            z-index: 1;
            filter: grayscale(100%);
            pointer-events: none;
        }

        /* --- CTA BUTTONS --- */
        .cta-wrapper {
            margin-top: 50px;
            pointer-events: auto;
            display: flex;
            gap: 20px;
            justify-content: center;
        }

        .btn {
            padding: 15px 30px;
            border: 1px solid var(--bg-light);
            border-radius: 50px;
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 1px;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-primary {
            background: var(--bg-light);
            color: var(--bg-dark);
        }

        .btn-primary:hover {
            background: transparent;
            color: var(--bg-light);
        }

        .btn-secondary {
            background: transparent;
            color: var(--bg-light);
        }

        .btn-secondary:hover {
            background: rgba(252, 248, 242, 0.1);
        }

        /* --- CERTIFICATION STRIP (MARQUEE) --- */
        .cert-strip {
            width: 100%;
            background: var(--bg-light);
            color: var(--bg-dark);
            padding: 15px 0;
            overflow: hidden;
            white-space: nowrap;
            border-bottom: 1px solid var(--bg-dark);
            transform: rotate(-2deg) scale(1.05);
            margin: 50px 0;
            position: relative;
            z-index: 5;
        }

        .marquee-content {
            display: inline-block;
            animation: scroll 25s linear infinite;
        }

        .cert-item {
            display: inline-block;
            font-weight: 800;
            text-transform: uppercase;
            font-size: 1.2rem;
            margin-right: 50px;
        }

        .cert-item span {
            font-weight: 400;
            font-size: 0.9rem;
            opacity: 0.7;
            margin-left: 10px;
            font-family: var(--font-mono);
        }

        @keyframes scroll {
            from {
                transform: translateX(0);
            }

            to {
                transform: translateX(-50%);
            }
        }

        /* --- EXPERIENCE SECTION --- */
        .grid-layout {
            display: grid;
            grid-template-columns: 1fr;
            gap: 40px;
        }

        @media(min-width: 768px) {
            .grid-layout {
                grid-template-columns: 1fr 2fr;
            }
        }

        .exp-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .exp-item,
        .client-item {
            border-top: 1px solid rgba(252, 248, 242, 0.1);
            padding: 30px 0;
            transition: all 0.4s ease;
            position: relative;
        }

        /* EXP Specifics */
        .exp-item:hover {
            padding-left: 30px;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.03) 0%, transparent 100%);
            border-top: 1px solid var(--bg-light);
        }

        .exp-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            flex-wrap: wrap;
            gap: 10px;
        }

        .exp-role {
            font-weight: 700;
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .exp-company {
            font-size: 1.1rem;
            color: rgba(252, 248, 242, 0.8);
        }

        .exp-date {
            font-family: var(--font-mono);
            font-size: 0.9rem;
            opacity: 0.5;
        }

        .exp-details {
            margin-top: 15px;
            font-size: 0.95rem;
            line-height: 1.6;
            opacity: 0.7;
            max-width: 600px;
        }

        /* --- COLLABORATORS SECTION --- */
        .client-item {
            cursor: pointer;
            position: relative;
        }

        .client-name {
            font-size: 1.8rem;
            font-weight: 700;
            transition: opacity 0.3s;
        }

        .client-meta {
            font-family: var(--font-mono);
            font-size: 0.8rem;
            opacity: 0.5;
            margin-top: 5px;
        }

        /* The Hidden Popup */
        .client-popup {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 280px;
            background: #1a1a1a;
            border: 1px solid var(--bg-light);
            padding: 15px;
            z-index: 20;
            pointer-events: none;
            opacity: 0;
            visibility: hidden;
            transform: translate(20px, -50%) rotate(5deg);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .client-popup img {
            width: 100%;
            aspect-ratio: 16/9;
            object-fit: cover;
            margin-bottom: 10px;
            filter: grayscale(100%);
        }

        .client-popup h4 {
            font-size: 1rem;
            margin-bottom: 5px;
        }

        .client-popup p {
            font-size: 0.8rem;
            opacity: 0.7;
            font-family: var(--font-mono);
        }

        /* Hover Effect (Desktop) */
        @media (min-width: 769px) {
            .client-item:hover .client-name {
                opacity: 0.5;
            }

            .client-item:hover .client-popup {
                opacity: 1;
                visibility: visible;
                transform: translate(40px, -50%) rotate(0deg);
            }
        }

        /* Active Effect (Mobile Tap) */
        .client-item.active .client-popup {
            opacity: 1;
            visibility: visible;
            transform: translate(-10%, 10%) rotate(0deg);
            z-index: 50;
        }

        @media (max-width: 768px) {
            .client-popup {
                left: 0;
                top: 100%;
                width: 90%;
                transform: translate(0, 10px);
            }

            .client-item.active .client-popup {
                transform: translate(0, 0);
            }
        }

        /* --- 5. PORTFOLIO SHOWCASE (CUSTOM ELEMENTS) --- */
        .showcase-area {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            /* Extra padding to account for the bounce animation so it doesn't clip */
            padding: 100px 0 100px 0;
            gap: 20px;
        }

        /* Responsive width for custom element */
        carousel-card {
            width: 100%;
            max-width: 350px;
            height: 450px;
            display: block;
            /* Essential for custom elements */
        }

        /* --- FOOTER --- */
        footer {
            padding: 100px 0;
            text-align: center;
            border-top: 1px solid rgba(252, 248, 242, 0.1);
        }

        .footer-link {
            font-size: 10vw;
            font-weight: 700;
            text-transform: uppercase;
            line-height: 1;
            display: block;
            margin-bottom: 30px;
            transition: color 0.3s ease;
        }

        .footer-link:hover {
            color: rgba(252, 248, 242, 0.5);
        }

        /* --- REVEAL HELPERS --- */
        .reveal-text {
            overflow: hidden;
        }

        /* --- 6. MEDIUM (ICEBERG) SECTION --- */
        .medium-section {
            height: 60vh;
            /* Prominent height */
            width: 100%;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 40px;
            padding-top: 40px;
            padding-bottom: 40vh;

            /* DARK MODE ICEBERG BACKGROUND */
            /* Sky / Background blend converted to dark theme */
            background:
                linear-gradient(#0000 50%, #021a24),
                linear-gradient(to top right, #0000 50%, #0f3a42 0) calc(50vw - 20vmin) calc(50vh + 7vmin) / 21vmin 100%,
                conic-gradient(at 18.5vmin 0, #0000 43%, #0f3a42 0) 50vw 50vh / 50% 100%,
                #040314;
            /* Site base dark */
            background-repeat: no-repeat;
        }

        /* The Iceberg */
        .medium-section::before {
            content: "";
            width: 40vmin;
            height: 66vmin;
            position: absolute;
            top: 55%;
            left: 50%;
            translate: -50% -30%;
            clip-path: polygon(0% 40%, 18% 18%, 28% 23%, 50% 0, 70% 15%, 75% 21%, 85% 22%, 98% 30%, 100% 40%, 80% 60%, 80% 80%, 55% 100%, 30% 83%, 20% 65%, 4% 50%);

            /* Dark Mode Iceberg Colors: Muted Teals, Greys, and Moonlight White */
            background:
                radial-gradient(farthest-side at 53% 55%, rgba(255, 255, 255, 0.1), transparent 70%),
                /* Highlight */
                linear-gradient(transparent 50%, rgba(0, 0, 0, 0.3)),
                /* Shadow */

                /* Facets */
                conic-gradient(from -25deg at 25% 27%, #2a5d66 50deg, transparent 0),
                conic-gradient(from 25deg at 59% 27%, #2a5d66 47deg, transparent 0),
                conic-gradient(from -15deg at 54% 60%, #2a5d66 140deg, transparent 0) 0 0 / 100% 17%,
                conic-gradient(from 30deg at 39% 26%, #b0dbe0 30deg, transparent 0),
                /* Lit side */
                conic-gradient(from 62deg at 53% 55%, #1b3d44 45deg, #234b53 0 85deg, transparent 0),
                conic-gradient(from 15deg at 69% 57%, #2a5d66 47deg, transparent 0),
                conic-gradient(from 70deg at 53% 89%, #1b3d44 105deg, #2a5d66 0 222deg, transparent 0),
                conic-gradient(from 122deg at 53% 55%, #4d7c8a 58deg, #5f9ca6 0 173deg, transparent 0),
                #cfedf0;
            /* Base Color (Moonlit Ice) */

            background-repeat: no-repeat;
            opacity: 0.8;
            transition: transform 0.5s ease-out;
        }

        .medium-section:hover::before {
            transform: scale(1.02);
        }

        /* Reflection / Water Surface */
        .medium-section::after {
            content: "";
            width: 100%;
            height: 50%;
            position: absolute;
            bottom: 0;
            left: 0;
            background:
                radial-gradient(farthest-side at 50% -50%, transparent calc(100% - 1px), rgba(37, 174, 180, 0.1)) 50% 0 / 5vmin 2vmin repeat-x,
                linear-gradient(transparent 2vmin, rgba(37, 174, 180, 0.05) 0, rgba(37, 174, 180, 0.05));
            pointer-events: none;
        }

        .medium-content {
            z-index: 10;
            text-align: center;
            background: rgba(4, 3, 20, 0.6);
            backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: 20px;
            border: 1px solid rgba(252, 248, 242, 0.1);
            max-width: 500px;
            width: 90%;
        }

        .medium-content h2 {
            margin-bottom: 10px;
            font-size: 2.5rem;
            text-transform: uppercase;
        }

        .medium-content p {
            margin-bottom: 30px;
            font-family: var(--font-mono);
            opacity: 0.8;
        }
    </style>
</head>

<body>

    <!-- Custom Cursor Element (Desktop) -->
    <div class="cursor-dot"></div>

    <!-- 1. HERO SECTION -->
    <section class="hero" id="hero-area">
        <div class="hero-content">
            <div class="reveal-text">
                <h1>Jesson</h1>
            </div>
            <div class="reveal-text">
                <h1>Setiawan</h1>
            </div>
            <h2>Full-Stack Digital Marketer & Developer</h2>

            <div class="cta-wrapper">
                <a href="https://linkedin.com/in/yourprofile" target="_blank" class="btn btn-primary">Connect on
                    LinkedIn</a>
                <a href="mailto:you@email.com" class="btn btn-secondary">Email Me</a>
            </div>
        </div>
        <!-- Images injected via JS -->
    </section>

    <!-- 2. CERTIFICATION STRIP -->
    <div class="cert-strip">
        <div class="marquee-content">
            <div class="cert-item">Google Data Analytics <span>SPECIALIZATION</span></div>
            <div class="cert-item">Campaign Manager 360 <span>CERTIFIED</span></div>
            <div class="cert-item">Hugging Face <span>AGENTS COURSE</span></div>
            <div class="cert-item">Responsive Web Design <span>FREECODECAMP</span></div>
            <div class="cert-item">Google Ads <span>SEARCH CERTIFICATION</span></div>
            <div class="cert-item">Customer Value Optimization <span>DIGITALMARKETER</span></div>
            <!-- Dupe for seamless scroll -->
            <div class="cert-item">Google Data Analytics <span>SPECIALIZATION</span></div>
            <div class="cert-item">Campaign Manager 360 <span>CERTIFIED</span></div>
            <div class="cert-item">Hugging Face <span>AGENTS COURSE</span></div>
            <div class="cert-item">Responsive Web Design <span>FREECODECAMP</span></div>
        </div>
    </div>

    <!-- 3. EXPERIENCE SECTION -->
    <section class="container">
        <div class="section-header">
            Experience
            <span class="section-sub">03 — HISTORY</span>
        </div>
        <div class="grid-layout">
            <div class="exp-label" style="opacity: 0.5; font-family: var(--font-mono);">2022 — PRESENT</div>
            <div class="exp-list">
                <!-- Gatecrasher -->
                <div class="exp-item">
                    <div class="exp-header">
                        <div>
                            <div class="exp-role">Digital Marketing Specialist</div>
                            <div class="exp-company">Gatecrasher Advertising</div>
                        </div>
                        <div class="exp-date">May 2024 - Present</div>
                    </div>
                    <p class="exp-details">
                        Orchestrating paid media strategies across Meta, TikTok, and Google ecosystems. Focusing on
                        impactful storytelling and data-driven optimization.
                    </p>
                </div>
                <!-- Likeable Creative -->
                <div class="exp-item">
                    <div class="exp-header">
                        <div>
                            <div class="exp-role">Digital Account Manager</div>
                            <div class="exp-company">Likeable Creative</div>
                        </div>
                        <div class="exp-date">Jul 2023 - May 2024</div>
                    </div>
                    <p class="exp-details">
                        Directed digital strategy, managed SEO performance, and delivered high-level reporting while
                        ensuring projects remained on brand.
                    </p>
                </div>
                <!-- PWD Digital Agency -->
                <div class="exp-item">
                    <div class="exp-header">
                        <div>
                            <div class="exp-role">Account Coordinator</div>
                            <div class="exp-company">PWD Digital Agency</div>
                        </div>
                        <div class="exp-date">Nov 2022 - Jul 2023</div>
                    </div>
                    <p class="exp-details">
                        Managed website projects, executed integrated media strategies, and handled retention analytics.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- 4. COLLABORATORS SECTION -->
    <section class="container">
        <div class="section-header">
            Collaborators
            <span class="section-sub">04 — NETWORK</span>
        </div>
        <div class="grid-layout">
            <div class="exp-label" style="opacity: 0.5; font-family: var(--font-mono);">SELECTED CLIENTS</div>
            <div class="exp-list">

                <!-- 1. Avant Pro -->
                <div class="client-item" onclick="togglePopup(this)">
                    <div class="client-name">Avant Pro</div>
                    <div class="client-meta">Golf Apparel • Perth, WA</div>
                    <!-- Hidden Popup -->
                    <div class="client-popup">
                        <img src="https://images.unsplash.com/photo-1593111774240-d529f12db464?q=80&w=600&auto=format&fit=crop"
                            alt="Avant Pro">
                        <h4>Avant Pro</h4>
                        <p>Web Development & Brand Strategy for modern golf apparel.</p>
                    </div>
                </div>

                <!-- 2. SPG Home Group -->
                <div class="client-item" onclick="togglePopup(this)">
                    <div class="client-name">SPG Home Group</div>
                    <div class="client-meta">Osborne Park, WA</div>
                    <div class="client-popup">
                        <img src="https://images.unsplash.com/photo-1560518883-ce09059eeffa?q=80&w=600&auto=format&fit=crop"
                            alt="SPG">
                        <h4>SPG Home Group</h4>
                        <p>Digital lead generation and local SEO dominance.</p>
                    </div>
                </div>

                <!-- 3. Limestone Coast Brewer -->
                <div class="client-item" onclick="togglePopup(this)">
                    <div class="client-name">Limestone Coast Brewer</div>
                    <div class="client-meta">Malaga, WA</div>
                    <div class="client-popup">
                        <img src="https://images.unsplash.com/photo-1571613316887-6f8d5cbf7ef7?q=80&w=600&auto=format&fit=crop"
                            alt="Limestone">
                        <h4>Limestone Coast</h4>
                        <p>E-commerce setup and social media visual direction.</p>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- 5. PORTFOLIO SHOWCASE (CUSTOM FLOATING CARDS) -->
    <section class="container">
        <div class="section-header">
            Works
            <span class="section-sub">05 — SELECTION</span>
        </div>

        <div class="showcase-area">

            <carousel-card skew="5deg, 3deg"
                img="https://images.unsplash.com/photo-1605647540924-852290f6b0d5?q=80&w=800&auto=format&fit=crop"
                title="Avant Apparel" subtitle="SHOPIFY / BRANDING">
            </carousel-card>

            <carousel-card skew="-3deg, 2deg"
                img="https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=800&auto=format&fit=crop"
                title="Media Console" subtitle="REACT / DATA VIZ">
            </carousel-card>

            <carousel-card skew="2deg, -4deg"
                img="https://images.unsplash.com/photo-1460925895917-afdab827c52f?q=80&w=800&auto=format&fit=crop"
                title="Growth Systems" subtitle="SEO / ARCHITECTURE">
            </carousel-card>

        </div>
    </section>

    <!-- EXPANDER ELEMENT (Required for the card click) -->
    <carousel-expand></carousel-expand>

    <!-- 6. MEDIUM / ICEBERG SECTION -->
    <section class="medium-section">
        <div class="medium-content">
            <h2>Deep Dives</h2>
            <p>Exploring the depths of digital marketing, AI agents, and web architecture underneath the surface.</p>
            <a href="https://medium.com/@jessonjsetiawan" target="_blank" class="btn btn-primary">Read on Medium</a>
        </div>
    </section>


    <footer>
        <a href="mailto:you@email.com" class="footer-link">Let's Talk.</a>
        <p style="opacity: 0.5; font-family: var(--font-mono);">© 2025 Jesson Setiawan. All Rights Reserved.</p>
    </footer>

    <!-- MAIN SCRIPT -->
    <script>
        gsap.registerPlugin(ScrollTrigger);

        // --- GLOBAL CONFIG ---
        const imageUrls = [
            'https://via.placeholder.com/200/fcf8f2/040314?text=J',
            'https://via.placeholder.com/200/fcf8f2/040314?text=S',
            'https://via.placeholder.com/200/fcf8f2/040314?text=Me'
        ];
        const heroSection = document.getElementById('hero-area');
        const isMobile = window.innerWidth <= 768;

        // --- HERO LOGIC (UNCHANGED) ---
        if (!isMobile) {
            // DESKTOP HERO
            const cursor = document.querySelector('.cursor-dot');
            window.addEventListener('mousemove', (e) => {
                gsap.to(cursor, { x: e.clientX - 10, y: e.clientY - 10, duration: 0.2 });
            });

            let zIndexCounter = 1;
            let lastMouseX = 0, lastMouseY = 0;
            const threshold = 80;

            const spawnImage = (x, y) => {
                const img = document.createElement('img');
                const randomUrl = imageUrls[Math.floor(Math.random() * imageUrls.length)];
                img.src = randomUrl;
                img.classList.add('trail-img');
                img.style.left = `${x}px`;
                img.style.top = `${y}px`;
                img.style.zIndex = zIndexCounter++;
                heroSection.appendChild(img);

                const tl = gsap.timeline({ onComplete: () => img.remove() });
                tl.to(img, { opacity: 0.6, scale: 1, rotation: Math.random() * 30 - 15, duration: 0.4 })
                    .to(img, { opacity: 0, scale: 0.8, y: 30, duration: 0.5, delay: 0.1 });
            };

            heroSection.addEventListener('mousemove', (e) => {
                const dist = Math.hypot(e.clientX - lastMouseX, e.clientY - lastMouseY);
                if (dist > threshold) {
                    spawnImage(e.clientX, e.clientY);
                    lastMouseX = e.clientX;
                    lastMouseY = e.clientY;
                }
            });

        } else {
            // MOBILE HERO (Rain)
            const rainCount = 12;
            for (let i = 0; i < rainCount; i++) {
                const img = document.createElement('img');
                const randomUrl = imageUrls[Math.floor(Math.random() * imageUrls.length)];
                img.src = randomUrl;
                img.classList.add('rain-img');
                img.style.left = `${Math.random() * window.innerWidth}px`;
                img.style.top = `-150px`;
                heroSection.appendChild(img);

                gsap.to(img, {
                    y: window.innerHeight + 200,
                    duration: 3 + Math.random() * 4,
                    repeat: -1,
                    delay: Math.random() * 5,
                    ease: "none",
                });
            }
            ScrollTrigger.create({
                onUpdate: (self) => {
                    const vel = self.getVelocity();
                    const shakeAmt = Math.min(Math.max(vel / 50, -30), 30);
                    gsap.to('.rain-img', { x: shakeAmt * 2, rotation: shakeAmt, duration: 0.5, overwrite: "auto" });
                    gsap.to('.rain-img', { x: 0, rotation: 0, duration: 1, delay: 0.5, ease: "elastic.out" });
                }
            });
        }

        // --- COLLABORATOR POPUP ---
        function togglePopup(element) {
            document.querySelectorAll('.client-item').forEach(item => {
                if (item !== element) item.classList.remove('active');
            });
            element.classList.toggle('active');
        }

        // --- ENTRANCE ANIMATIONS ---
        gsap.from(".hero h1", { y: 150, opacity: 0, duration: 1.5, ease: "power4.out", stagger: 0.1 });
        gsap.from(".hero h2", { y: 20, opacity: 0, duration: 1, delay: 0.8 });
        gsap.from(".cta-wrapper", { y: 20, opacity: 0, duration: 1, delay: 1 });
        gsap.from(".cert-strip", { scaleX: 0, opacity: 0, duration: 1.2, delay: 1.2, ease: "expo.out" });

        gsap.utils.toArray('.exp-item').forEach((item) => {
            gsap.from(item, {
                scrollTrigger: { trigger: item, start: "top 85%" },
                x: -50, opacity: 0, duration: 0.8, ease: "power2.out"
            });
        });

        // --- CUSTOM WEB COMPONENTS (FLOATING CARDS) ---

        // Global Controllers
        window.pauseAllAnimations = function () {
            let cards = document.querySelectorAll("carousel-card");
            cards.forEach(card => card.pauseAnimation());
        }

        window.resumeAllAnimations = function () {
            let cards = document.querySelectorAll("carousel-card");
            cards.forEach(card => card.resumeAnimation());
        }

        class CarouselCard extends HTMLElement {
            constructor() {
                super();

                // Get Attributes
                this.skew = this.getAttribute("skew") || "7deg, 5deg";
                this.scale = this.getAttribute("scale") || "1.0";
                this.imgSrc = this.getAttribute("img") || "";
                this.titleText = this.getAttribute("title") || "Project";
                this.subText = this.getAttribute("subtitle") || "";

                this.lock = false;
                var shadow = this.attachShadow({ mode: "open" });
                var style = document.createElement("style");

                // Randomize bounce start
                let randomStart = Math.random() * (100 - 60);

                // --- SHADOW DOM STYLES ---
                style.textContent = `
                    :host {
                        display: block;
                        width: 100%;
                        height: 100%;
                    }
                    .card {
                        width: 100%;
                        height: 100%;
                        border-radius: 4px;
                        box-sizing: border-box;
                        box-shadow: 0 20px 50px rgba(0,0,0,0.5);
                        transform: skew(${this.skew}) scale(${parseFloat(this.scale)});
                        animation: 3s linear 0s infinite alternate bounce;
                        
                        background-image: url('${this.imgSrc}');
                        background-size: cover;
                        background-position: center;
                        background-color: #111;
                        
                        transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1), filter 0.3s;
                        cursor: pointer;
                        filter: grayscale(100%) brightness(0.7);
                        position: relative;
                        overflow: hidden;
                    }
                    
                    /* Text Overlay */
                    .card-content {
                        position: absolute;
                        bottom: 0; left: 0; width: 100%;
                        padding: 30px;
                        background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
                        color: #fcf8f2;
                        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
                        transform: translateY(20px);
                        opacity: 0;
                        transition: all 0.4s ease;
                    }
                    
                    h3 { margin: 0 0 5px 0; font-size: 2rem; font-weight: 700; line-height: 1; text-transform: uppercase; }
                    span { font-family: 'Courier New', monospace; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; border: 1px solid white; padding: 4px 10px; border-radius: 20px; display: inline-block; }

                    /* Animations */
                    @keyframes bounce {
                        from { margin-top: ${randomStart}px; }
                        to { margin-top: ${120 - randomStart}px; }
                    }

                    /* Hover States */
                    .card:hover {
                        filter: grayscale(0%) brightness(1);
                    }
                    .card:hover .card-content {
                        opacity: 1;
                        transform: translateY(0);
                    }
                `;

                var wrapper = document.createElement("div");
                wrapper.setAttribute("class", "card");

                // Create internal content structure
                wrapper.innerHTML = `
                    <div class="card-content">
                        <h3>${this.titleText}</h3>
                        <span>${this.subText}</span>
                    </div>
                `;

                // Event Listeners
                wrapper.addEventListener("mouseover", window.pauseAllAnimations);
                wrapper.addEventListener("mouseout", window.resumeAllAnimations);

                wrapper.addEventListener("mouseover", (e) => this.unSkew(e));
                wrapper.addEventListener("mouseout", (e) => this.reSkew(e));

                wrapper.addEventListener("click", (e) => this.setCarousel());

                shadow.appendChild(style);
                shadow.appendChild(wrapper);
            }

            resumeAnimation() {
                if (!this.lock) {
                    this.shadowRoot.querySelector(".card").style.animationPlayState = "";
                }
            }

            pauseAnimation() {
                if (!this.lock) {
                    this.shadowRoot.querySelector(".card").style.animationPlayState = "paused";
                }
            }

            unSkew(event) {
                if (!this.lock) {
                    // Access the .card element directly
                    const card = this.shadowRoot.querySelector(".card");
                    card.style.zIndex = 2000;
                    // Reset skew, slightly scale up for focus
                    card.style.transform = "skew(0deg) scale(1.05)";
                }
            }

            reSkew(event) {
                if (!this.lock) {
                    const card = this.shadowRoot.querySelector(".card");
                    card.style.transform = `skew(${this.skew}) scale(${this.scale})`;
                }
            }

            setCarousel() {
                let cards = document.querySelectorAll("carousel-card");
                cards.forEach(card => card.lock = true);

                const expander = document.querySelector("carousel-expand");
                // Open the modal passing the internal card element
                expander.open(this.shadowRoot.querySelector(".card"));
            }
        }

        customElements.define("carousel-card", CarouselCard);

        class CarouselExpand extends HTMLElement {
            constructor() {
                super();
                var shadow = this.attachShadow({ mode: "open" });
                var style = document.createElement("style");

                // --- EXPANDER STYLES ---
                style.textContent = `
                    .content {
                        --width: 400px;
                        width: var(--width);
                        --height: 400px;
                        height: var(--height);
                        border: 1px solid #fcf8f2;
                        position: fixed;
                        z-index: 3001; /* Z-Index Fix: Higher than Card's 2000 */
                        left: calc(50vw - calc(var(--width)/2));
                        top: calc(50vh - calc(var(--height)/2));
                        background: #040314;
                        color: #fcf8f2;
                        display: none;
                        background-size: cover;
                        background-position: center;
                    }
                    
                    .content--active {
                        transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1);
                        display: flex;
                        flex-direction: column;
                        justify-content: flex-end;
                        padding: 40px;
                    }

                    /* Mobile Responsiveness */
                    @media (max-width: 768px) {
                        .content--active {
                            width: 95vw !important;
                            height: 90vh !important;
                            top: 5vh !important;
                            left: 2.5vw !important;
                            padding: 20px;
                        }
                    }

                    .container {
                        display: none;
                        position: fixed;
                        height: 100vh;
                        width: 100vw;
                        z-index: 3000; /* Z-Index Fix: Higher than Card */
                        top: 0; left: 0;
                        background: rgba(0,0,0,0.8);
                        backdrop-filter: blur(5px);
                        transition: all 0.5s;
                    }
                    
                    .container--active {
                        display: block;
                    }

                    .close {
                        position: absolute;
                        top: 20px; right: 20px;
                        background: transparent;
                        border: 1px solid #fcf8f2;
                        color: #fcf8f2;
                        padding: 10px 20px;
                        border-radius: 30px;
                        cursor: pointer;
                        text-transform: uppercase;
                        font-family: 'Courier New', monospace;
                        font-weight: bold;
                    }
                    .close:hover { background: #fcf8f2; color: #040314; }
                    
                    .expanded-info {
                        opacity: 0;
                        transform: translateY(20px);
                        transition: all 0.3s delay 0.3s;
                    }
                    
                     @media (max-width: 768px) {
                        .expanded-info h2 { font-size: 2rem !important; }
                        .expanded-info p { font-size: 0.9rem; }
                     }

                    .content--active .expanded-info {
                        opacity: 1;
                        transform: translateY(0);
                    }
                `;

                const container = document.createElement('div');
                container.setAttribute("class", "container");

                const content = document.createElement("div");
                content.setAttribute("class", "content");

                // Inner HTML for the expanded view
                content.innerHTML = `
                    <button class="close">Close</button>
                    <div class="expanded-info">
                        <h2 style="font-size: 3rem; margin:0; line-height:1;">Selected Work</h2>
                        <p style="font-family: 'Courier New'; margin-top: 10px;">Full case study locked.</p>
                    </div>
                `;

                // Logic to close
                content.querySelector('.close').addEventListener('click', () => this.close());
                container.addEventListener('click', () => this.close());

                container.appendChild(content);
                shadow.appendChild(style);
                shadow.appendChild(container);
            }

            open(target) {
                let container = this.shadowRoot.querySelector(".container");
                container.setAttribute('class', 'container container--active');

                // Get target dim
                const box = target.getBoundingClientRect();
                let content = this.shadowRoot.querySelector(".content");

                // Mimic original card bg
                content.style.backgroundImage = target.style.backgroundImage;

                // Set start pos
                content.style.width = box.width + "px";
                content.style.height = box.height + "px";
                content.style.top = box.top + "px";
                content.style.left = box.left + "px";
                content.style.display = "block";

                // Animate to full screen center
                setTimeout(() => {
                    content.setAttribute('class', 'content content--active');
                    // Reset to center styles handled by CSS class or manually here if needed
                    // For full screen specific:
                    content.style.width = "80vw";
                    content.style.height = "80vh";
                    content.style.top = "10vh";
                    content.style.left = "10vw";
                }, 10);
            }

            close() {
                let content = this.shadowRoot.querySelector(".content");
                // Animate out (simplified)
                content.style.opacity = "0";
                content.style.transform = "translateY(50px)";

                let container = this.shadowRoot.querySelector(".container");
                container.style.opacity = "0";

                setTimeout(() => {
                    // Reset everything
                    content.setAttribute('class', 'content');
                    content.style.opacity = "";
                    content.style.transform = "";
                    content.style.display = "none";

                    container.setAttribute('class', 'container');
                    container.style.opacity = "";

                    // Unlock cards
                    let cards = document.querySelectorAll("carousel-card");
                    cards.forEach(card => {
                        card.lock = false;
                        card.resumeAnimation();
                        card.reSkew();
                    });
                }, 500);
            }
        }

        customElements.define("carousel-expand", CarouselExpand);

    </script>
</body>

</html>